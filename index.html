<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            box-sizing: border-box;
        }

        .header {
            height: 40px;
            line-height: 40px;
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
        .header > button {
            margin-right: 10px;
        }

        .wrapper {
            width: 400px;
            margin: 20px auto;
        }

        .chessboard {
            /* width: 100%; */
            height: 400px;
            background: rgb(238, 183, 116);
            border: 5px solid;
        }

        .chessboard>.row {
            height: 20px;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
        }

        .col {
            width: 18px;
            height: 18px;
            border: 1px solid;
            position: relative;
        }

        .circle {
            width: 12px;
            height: 12px;
            position: absolute;
            left: 10px;
            top: 10px;
            display: inline-block;
            z-index: 3;
            border-radius: 50%;
            padding: 3px;
        }

        .red {
            background: red;
        }

        .blue {
            background: blue;
        }
    </style>
</head>

<body>
    <div class="header">
        <button onclick="curPos()">当前情况</button>
        <button onclick="refresh()">刷新</button>
    </div>
    <div class='wrapper'>
        <div class="chessboard">
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                    <span class="circle"></span>
                </span>
                <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                    <span class="circle"></span>
                </span> <span class="col">
                </span>
            </div>
            <div class="row">
                <span class="col">
                </span>
                </span>
                <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
                </span> <span class="col">
                </span>
            </div>

        </div>
    </div>

    <script>


        /**
            1,1 2,1 3,1
            1,2 2,2 3,2
            1,3 2,3 3,3
        */
        let curColor = true,//默认为蓝色
            circles = document.querySelectorAll('.circle'),
            redList = [],
            blueList = [],
            count = 1,
            x, y,
            curXY,
            finish = false;//表示是否游戏结束,当游戏结束无法继续下子

        //初始化
        for (let circle of circles) {
            x = count % 19;
            y = Math.ceil(count / 19);
            if (x == 0) x = 19;
            circle.setAttribute('data-index', `${x}-${y}`);
            count++;
        }
        //绑定事件
        for (let circle of circles) {

            circle.addEventListener('click', function () {

                if (this.classList.contains('red') || this.classList.contains('blue')) {
                    return;
                }
                if (finish) {
                    alert('游戏已经结束..')
                    return;
                }
                curXY = this.getAttribute('data-index')
                this.classList.add(curColor ? 'blue' : 'red');
                if (curColor) {
                    this.classList.add('blue')
                    blueList.push(curXY)
                } else {
                    this.classList.add('red')
                    redList.push(curXY)
                }
                curColor = !curColor;
                if (checkWin(curXY)) {
                    setTimeout(function () {
                        alert(curColor ? '红赢' : '蓝赢');
                        // refresh();//刷新页面
                        finish = true;
                    }, 0)
                }
            });
        }

        function checkWin(curXY) {
            let x = parseInt(curXY.split('-')[0]),
                y = parseInt(curXY.split('-')[1]),
                tempX = x,
                tempY = y,
                max = 0,
                count,
                flag,
                dir = [
                    [
                        [-1, 0], [1, 0],
                    ],
                    [
                        [0, -1], [0, 1],
                    ],
                    [
                        [-1, -1], [1, 1],
                    ],
                    [
                        [1, -1], [-1, 1]
                    ]
                ]
            for (let i = 0; i < 4; i++) {
                count = 1;
                for (let j = 0; j < 2; j++) {
                    flag = true;
                    while (flag) {
                        tempX = parseInt(tempX) + dir[i][j][0]
                        tempY = parseInt(tempY) + dir[i][j][1]
                        if ((redList.indexOf(tempX + '-' + tempY) != -1 && redList.indexOf(x + '-' + y) != -1)
                            || (blueList.indexOf(tempX + '-' + tempY) != -1 && blueList.indexOf(x + '-' + y) != -1)
                        ) {
                            count++;
                        } else {
                            flag = false;
                        }
                    }
                    tempX = x
                    tempY = y;
                }
                if (count >= 5) {
                    max = 1;
                    break;
                } else {
                    max = 0;
                }
            }
            if (max == 1) {
                return true;
            } else {
                return false;
            }
        }

        function refresh() {
            finish = false;
            window.location.reload();
        }
    </script>

</body>

</html>